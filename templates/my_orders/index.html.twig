{# {% extends 'base.html.twig' %} #}

{# {% block title %}Hello MyOrdersController!{% endblock %} #}

{# {% block body %} #}
{# <style> #}
{#    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; } #}
{#    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; } #}
{# </style> #}

{# <div class="example-wrapper"> #}
{#    <h1>Hello {{ controller_name }}! ✅</h1> #}

{#    This friendly message is coming from: #}
{#    <ul> #}
{#        <li>Your controller at <code><a href="{{ '/home/rustam/sda/src/Controller/MyOrdersController.php'|file_link(0) }}">src/Controller/MyOrdersController.php</a></code></li> #}
{#        <li>Your template at <code><a href="{{ '/home/rustam/sda/templates/my_orders/index.html.twig'|file_link(0) }}">templates/my_orders/index.html.twig</a></code></li> #}
{#    </ul> #}
{# </div> #}
{# {% endblock %} #}


{% extends 'base.html.twig' %}

{% block title %}Hello MyOrdersController!{% endblock %}

{% block body %}
    <div class="zaebal">

        <div class="container-fluid text-center py-4">
            <h1>Mes commandes</h1>
        </div>

        <div class="container d-flex flex-wrap" style="font-size: 17px">
            {#        {{ dump(app.session.get('cart')) }} #}
            <div class="col-sm-1 d-none d-sm-block">
                <strong>N°</strong>
            </div>
            <div class="col-sm-2 d-none d-sm-block">
                <strong>Date</strong>
            </div>
            <div class="col-sm-3 d-none d-sm-block">
                <strong>Nom</strong>
            </div>
            <div class="col-sm-2 d-none d-sm-block">
                <strong>Prix</strong>
            </div>
            <div class="col-sm-1 d-none d-sm-block">
                <strong>Quantité</strong>
            </div>
            <hr class="my-4 w-100">

            {% for row in orders %}
                <div class="col-12">
                    <h3>
                        {{ row.id }}
                    </h3>
                    <a href="{{ path('ord_det', {'order': row.id}) }}"
                       style="color: #989100;">
                        Facture
                    </a>
                </div>
                {% for ode in row.orderDetails %}
                    <div class="col-sm-1 col-12 text">
                        {#                        {{ ode.id }} #}
                        {#                       {{  dump(ode) }} #}
                    </div>
                    <div class="col-sm-2  col-12">
                        {{ row.date |date('Y-m-d') }}
                    </div>
                    <div class="col-sm-3  col-12">
                        {{ ode.product.name }}
                    </div>
                    <div class="col-sm-2 col-12">
                        {{ ode.price }} €
                    </div>
                    {#                    {% set total = total + row.qty*row.price %} #}
                    {#                    {% set quantity = quantity + row.qty %} #}
                    <div class="col-sm-1 col-12">
                        {{ ode.quantity }}
                    </div>
                    <hr class="my-4 w-100">
                {% endfor %}
            {% endfor %}
        </div>
    </div>
{% endblock %}

